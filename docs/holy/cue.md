# Cue 仕様（Holy）

この文書は Kimix Desk における **Cue の概念・役割・従属関係**を定義する。
本章は実装より上位の判断基準とし、WORKLOG に記された経緯とは分離して管理する。

---

## 1. スコープ

- Cue は **再生・編集の単位**であり、状態を保持する
- 表示や操作は Cue を基点として解釈される
- 一時的な UI 状態（スクロール位置・表示モードなど）は Cue に従属する場合がある

---

## 2. Live / Blind の関係

- Live と Blind は **それぞれ独立した Cue 状態**を持つ
- 現在 Cue 番号・編集状態は Live / Blind 間で共有しない
- Live ↔ Blind 切替は「別の世界（World）への移動」として扱う

---

## 3. Fader ページとの関係

- Fader ページは **Cue に従属**する
- Fader ページは「その Cue のどの束（Page）を見ているか」を示す
- Fader ページは Cue から独立した状態としては存在しない

---

## 4. ページ保持・リセットのルール（ロック）

### 4.1 表示切替時

- **同一 Cue 内**での表示切替（Ch ↔ Fader）では  
  → **Fader ページは保持する**

- Live ↔ Blind 切替では  
  → **ページはリセットしない**  
  （ただし切替先の World で Cue が異なる場合は、結果的に Cue 変更扱いとなる）

### 4.2 Cue 変更時

- Cue を変更した場合  
  → **Fader ページは必ず Page 1 に戻る**

- 一度別 Cue に移動した後、元の Cue に戻った場合も  
  → **Page 1 に戻る**（ページ履歴は保持しない）

---

## 5. まとめ（設計意図）

- ページ状態は作業効率よりも **混乱回避を優先**する
- 同一 Cue の作業文脈は保ち、Cue を跨いだ瞬間に文脈をリセットする
- メーカー差が出やすい領域だが、Kimix Desk はこのルールを採用する

---

※ 本章に反する実装・挙動が確認された場合は、実装を修正する。
※ 本章の変更は WORKLOG に理由を記した上でのみ行う。